define(["dust", "Compiled/Modules/ContentHeaderBar", "Compiled/Modules/DisplayAuthorAndDate", "Compiled/Modules/ContentFooter", "Compiled/RelatedContent", "Compiled/Modules/FlatTags", "Compiled/Modules/AuthorPartnerBlock"], function(dust) { (function(){dust.register("VideoBody",body_0);function body_0(chk,ctx){return chk.section(ctx.get("content"),ctx,{"block":body_1},null).exists(ctx.getPath(false,["SiteMember","DashboardEnabled"]),ctx,{"block":body_8},null);}function body_1(chk,ctx){return chk.write("<article class=\"content\">").partial("Modules/ContentHeaderBar",ctx,null).write("<header class=\"title-container\">").reference(ctx.getPath(false,["mainContent","0","record","attributes","headline"]),ctx,"h").write("<div class=\"row collapse\"><div class=\"small-12 columns no-padding\">").reference(ctx.getPath(false,["mainContent","0","record","attributes","subhead"]),ctx,"h").partial("Modules/DisplayAuthorAndDate",ctx,{"englishContent":"english"}).write("</div></div></header><div class=\"row collapse\"><div class=\"small-12 columns padded video-h5\">").helper("if",ctx,{"block":body_2},{"cond":body_3}).write("</div></div><div id=\"MainPlayerContainer\" class=\"flex-video\">").helper("if",ctx,{"else":body_4,"block":body_5},{"cond":body_6}).write("<script>require(['bc', 'salt'], function(brightcove, SALT) {var myPlayer = videojs.getPlayers().myPlayerID;myPlayer.on('ended', function(){/*The below lines to remain double quotes to account for items with single quotes in the title*/var title = ").reference(ctx.getPath(false,["mainContent","0","record","attributes","resource_link_title"]),ctx,"h",["js","s"]).write(";SALT.publish('content:todo:completed', {contentId: \"").reference(ctx.getPath(false,["mainContent","0","record","attributes","P_Primary_Key"]),ctx,"h").write("\",todoListStatusId: \"").reference(ctx.getPath(false,["mainContent","0","record","attributes","RefToDoStatusID"]),ctx,"h").write("\",contentType: \"").reference(ctx.getPath(false,["mainContent","0","record","attributes","ContentTypes"]),ctx,"h").write("\",contentTitle: '\\\"' + title + '\\\"'});});var videoTimer;/* for 3rd party videos, we don't get an event when the video is completeso we use a simple timer for completion */if ($.trim(\"").reference(ctx.getPath(false,["mainContent","0","record","attributes","third-party-video"]),ctx,"h").write("\")) {videoTimer = setTimeout(function () {SALT.trigger('content:todo:completed', {contentId: '").reference(ctx.getPath(false,["mainContent","0","record","attributes","P_Primary_Key"]),ctx,"h").write("'});clearTimeout(videoTimer);}, 60000);}SALT.on('need:navigation', function () {clearTimeout(videoTimer);});});</script></div><div class=\"row collapse\"><div class=\"small-12 columns\">").reference(ctx.getPath(false,["mainContent","0","record","attributes","body"]),ctx,"h").section(ctx.getPath(false,["mainContent","0"]),ctx,{"block":body_7},null).write("</div></div>").partial("Modules/ContentFooter",ctx,null).write("</article>").partial("RelatedContent",ctx,null);}function body_2(chk,ctx){return chk.write("<article class=\"callout full-width\"><div id=\"englishCallout\" >").reference(ctx.getPath(false,["mainContent","0","record","attributes","callout"]),ctx,"h").write("</div></article>");}function body_3(chk,ctx){return chk.write("'").reference(ctx.getPath(false,["mainContent","0","record","attributes","callout"]),ctx,"h",["trim"]).write("'.length !== 0");}function body_4(chk,ctx){return chk.write("<iframe id=\"iframe").reference(ctx.getPath(false,["mainContent","0","record","attributes","b-video-id"]),ctx,"h",["trim"]).write("\" src=\"").reference(ctx.getPath(false,["mainContent","0","record","attributes","third-party-video"]),ctx,"h",["s","trim"]).write("\" frameborder=\"0\" showinfo=\"0\"  controls =\"0\"  allowfullscreen></iframe>");}function body_5(chk,ctx){return chk.write("<video  id=\"myPlayerID\" data-video-id=\"").reference(ctx.getPath(false,["mainContent","0","record","attributes","b-video-id"]),ctx,"h",["trim"]).write("\" data-account=\"1894469414001\" data-player=\"SJLISQXFb\" data-embed=\"default\" data-application-id class=\"video-js flex-video\" controls></video>        ");}function body_6(chk,ctx){return chk.write("'").reference(ctx.getPath(false,["mainContent","0","record","attributes","third-party-video"]),ctx,"h",["trim"]).write("'.length === 0");}function body_7(chk,ctx){return chk.partial("Modules/FlatTags",ctx,null).partial("Modules/AuthorPartnerBlock",ctx,null);}function body_8(chk,ctx){return chk.write("<script>require(['salt', 'modules/Dashboard'], function (SALT) {").section(ctx.getPath(false,["content","mainContent","0","record"]),ctx,{"block":body_9},null).write("});</script>");}function body_9(chk,ctx){return chk.write("/* Status 1 is Added. Only mark items in progress if they've been previously added */").helper("if",ctx,{"block":body_10},{"cond":body_11});}function body_10(chk,ctx){return chk.write("SALT.trigger('content:todo:inProgress', {contentId: '").reference(ctx.getPath(false,["attributes","P_Primary_Key"]),ctx,"h").write("'});");}function body_11(chk,ctx){return chk.write("'").reference(ctx.getPath(false,["attributes","RefToDoStatusID"]),ctx,"h").write("' === '1'");}return body_0;})(); });